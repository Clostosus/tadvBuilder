<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Choose Your Own Adventure</title>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
<div id="userNotice" class="section sectionHighlighted">
    <p class="bluesidebarP"><strong>Prototyp:</strong> Diese Anwendung befindet sich in der Entwicklung und dient ausschlie√ülich Demonstrationszwecken. Es wird keinerlei Haftung f√ºr Funktionalit√§t, Korrektheit oder die Eignung f√ºr bestimmte Zwecke √ºbernommen.</p>
    <p><strong>Technischer Hinweis:</strong> Dieses HTML-Tool ist vollst√§ndig offlinef√§hig. Es l√§dt <u>keine externen Ressourcen</u> und funktioniert ohne Internetverbindung. Es werden keinerlei Daten √ºbertragen und es findet kein Tracking statt.</p>
    <p>Du kannst diese Datei lokal speichern, per USB weitergeben oder im Browser √ºber Doppelklick starten. </p>
    <p><strong>Mobilnutzung:</strong> Die Anwendung funktioniert auch auf Smartphones und Tablets. Aufgrund des begrenzten Platzes empfehlen wir Querformat oder Tablet-Gr√∂√üe f√ºr komfortables Schreiben und Lesen. Ein Speichern von JSON-Daten ist ebenfalls mobil durch Kopieren m√∂glich.</p>
</div>

<div id="intro" class="intro sectionHighlighted">
    <h1>Choose Your Own Adventure</h1>
    <h2>Ein Tool zum Schreiben verzweigter Entscheidungsgeschichten direkt im Browser</h2>
    <p>Dieses Tool hilft dir beim Erstellen von verzweigten Erlebnissen: sogenannte "Entscheidungsgeschichten". Leserinnen und Leser k√∂nnen durch ihre Entscheidungen den Verlauf beeinflussen. Jede Szene bekommt einen eindeutigen Schl√ºsselnamen, einen Text und eine oder mehrere Auswahlm√∂glichkeiten, die zu anderen Szenen f√ºhren. Du kannst Szenen anlegen, verkn√ºpfen, Vorschauen anzeigen lassen und am Ende das komplette Story-Konstrukt als JSON weiterverwenden oder speichern ‚Äì alles direkt im Browser, komplett offline und lokal.</p>
</div>

<div id="sceneEditor" class="section">
    <label>Schl√ºsselname der Szene:<span class="help">Ein eindeutiger Bezeichner, z.‚ÄØB. <code>start</code> oder <code>kapitel1</code></span></label>
    <label for="scene-key"></label><input type="text" id="scene-key" placeholder="z.‚ÄØB. start">

    <label>Text der Szene:<span class="help">Der eigentliche Erz√§hltext, der dem Leser angezeigt wird</span></label>
    <label for="scene-text"></label><textarea id="scene-text" rows="4" placeholder="Hier deine Szene eingeben..."></textarea>

    <label>Entscheidungen:<span class="help">Welche M√∂glichkeiten der Leser hat und wohin sie f√ºhren</span></label>
    <div id="choices-container">
        <div class="choice-inputs">
            <label>
                <input type="text" class="choice-text" placeholder="Entscheidungstext">
            </label>
            <label>
                <input type="text" class="choice-next" placeholder="N√§chste Szene (Schl√ºssel)">
            </label>
        </div>
    </div>
    <button onclick="addChoiceField()">Weitere Entscheidung hinzuf√ºgen</button>
    <button onclick="addScene()">Szene speichern</button>
</div>

<div class="section">
    <h2><span class="emoji">üîç</span>Vorschau der aktuellen Szene</h2>
    <div id="preview">(noch keine Vorschau verf√ºgbar)</div>
</div>

<div class="section">
    <h2><span class="emoji">üéÆ</span>Interaktive Vorschau</h2>
    <p class="help">Die Geschichte wird ab der Szene mit dem Schl√ºssel <code>start</code> gestartet</p>
    <button onclick="startStory()">Geschichte starten</button>
    <div id="play-area"></div>
</div>

<div class="section">
    <h2><span class="emoji">üß≠</span>Entscheidungsbaum (ASCII-√úbersicht)</h2>
    <p class="help">Diese einfache Textdarstellung zeigt, welche Szene zu welcher f√ºhrt. Sie wird automatisch aus deinem Story-Aufbau generiert.</p>
    <pre id="tree-output">(noch kein Baum erstellt)</pre>
    <button onclick="renderTree()">Entscheidungsbaum aktualisieren</button>
</div>

<div class="section">
    <h2><span class="emoji"></span> JSON importieren / exportieren</h2>
    <p class="help">Lade eine bestehende Geschichte (JSON) oder exportiere deine aktuelle Arbeit.</p>

    <label for="json-file">JSON-Datei laden:</label>
    <input type="file" id="json-file" accept=".json" />

    <button id="import-json">Importieren</button>
    <button id="export-json">Exportieren</button>

    <pre id="import-status">(kein Import durchgef√ºhrt)</pre>
</div>

<div class="section">
<p class="help">Du kannst dein JSON in dieses Template einsetzen, um eine Wiedergabeseite zu erstellen:</p>
<pre id="storyViewerTemplate">
</pre>
</div>

<script src="insertViewerTemplate.js"></script>
<script src="main.js" type="module"></script>
</body>